(this["webpackJsonpspotify-frontend"]=this["webpackJsonpspotify-frontend"]||[]).push([[0],{34:function(e,t,s){var n={"./kennebunkportrevival.png":68};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id=34},42:function(e,t,s){},46:function(e,t,s){},59:function(e,t,s){},61:function(e,t,s){},68:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/kennebunkportrevival.0239da41.png"},73:function(e,t,s){var n={"./catullus.m4a":74,"./maineday6.m4a":75,"./startagain.m4a":76,"./stolendance.m4a":77,"./takemethere.m4a":78};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id=73},74:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/catullus.5087ae52.m4a"},75:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/maineday6.5ae64ed5.m4a"},76:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/startagain.fe638531.m4a"},77:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/stolendance.cddd4be6.m4a"},78:function(e,t,s){"use strict";s.r(t),t.default=s.p+"static/media/takemethere.c9ab0a4f.m4a"},93:function(e,t,s){"use strict";s.r(t);var n=s(1),r=s.n(n),a=s(36),i=s.n(a),c=(s(59),s(2)),o=s.n(c),l=s(8),p=s(5),u=s(4),h=s(7),d=s(6),j=(s(61),s(28)),y=s.n(j),b=s(32),g=s.n(b),m=s(43),f=s.n(m),x=s(40),O=s.n(x),v=s(33),w=s.n(v),S=s(9),k=(s(46),s(0)),C=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(p.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).logout=function(){localStorage.clear(),window.location.reload()},e}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t={display:"flex",flexDirection:"row",alignItems:"center",borderRadius:"15px",height:"1.5rem",margin:"1rem 0 1rem 0"},s={display:"flex",flexDirection:"row",alignItems:"center",borderRadius:"15px",height:"1.5rem",margin:"1rem 0 1rem 0",backgroundColor:"rgba(202, 200, 200, 0.2)"},n={display:"flex",flexDirection:"column",alignItems:"center",height:"100%"},r={color:"rgb(219, 9, 89)",marginRight:"1rem"},a={width:"5rem",margin:"0.5rem"},i=Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(y.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Listen Now"})})]}),c=Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(g.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Browse"})})]}),o=Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(f.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Artists"})})]}),l=Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(O.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Albums"})})]}),p=Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(w.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Songs"})})]});switch(this.props.page){case"listennow":i=Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)(y.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Listen Now"})})]});break;case"browse":c=Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)(g.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Browse"})})]});break;case"artists":o=Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)(f.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Artists"})})]});break;case"albums":case"album":l=Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)(O.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Albums"})})]});break;case"songs":p=Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)(w.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Songs"})})]});break;default:i=Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)(y.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Listen Now"})})]})}var u=Object(k.jsxs)("div",{children:[Object(k.jsx)("li",{children:Object(k.jsx)("a",{href:"/music-player-frontend/#/login",children:Object(k.jsx)(S.a,{style:a,variant:"secondary",children:"Login"})})}),Object(k.jsx)("li",{children:Object(k.jsx)("a",{href:"/music-player-frontend/#/signup",children:Object(k.jsx)(S.a,{style:a,variant:"secondary",children:"Signup"})})})]});return localStorage.getItem("access")&&(u=Object(k.jsx)("li",{children:Object(k.jsx)(S.a,{style:a,variant:"secondary",onClick:this.logout,children:"Logout"})})),Object(k.jsx)("div",{style:{backgroundColor:"rgb(57, 67, 82)",height:"100%",width:"100%",position:"relative",paddingTop:"1rem"},children:Object(k.jsxs)("ul",{className:"nav-list",style:{listStyle:"none",color:"white"},children:[Object(k.jsx)("li",{onClick:function(){return e.props.setPage("listennow")},children:i}),Object(k.jsx)("li",{onClick:function(){return e.props.setPage("browse")},children:c}),Object(k.jsx)("li",{onClick:function(){return e.props.setPage("artists")},children:o}),Object(k.jsx)("li",{onClick:function(){return e.props.setPage("albums")},children:l}),Object(k.jsx)("li",{onClick:function(){return e.props.setPage("songs")},children:p}),u]})})}}]),s}(r.a.Component),P=s(30),T=s.n(P),I=s(31),A=s.n(I),N=s(20),D=s.n(N),W=s(24),B=s.n(W),L=s(38),E=s.n(L),R=s(39),H=s.n(R),V=(s(42),function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t={fontSize:"3rem"},s={fontSize:"2rem"},n=100*this.props.audio.volume,r=this.props.currentTime/this.props.duration*100;isNaN(r)&&(r=0);var a=0;isNaN(this.props.currentTime)||(a=new Date(1e3*this.props.currentTime).toISOString().substr(14,5));var i,c=0;return isNaN(this.props.duration)||(c=new Date(1e3*this.props.duration).toISOString().substr(14,5)),i=this.props.playBool?Object(k.jsx)(B.a,{onClick:function(){return e.props.pause()},style:t}):Object(k.jsx)(D.a,{onClick:function(){return e.props.play()},style:t}),Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row",backgroundColor:"rgba(0, 0, 0, 0.9)",width:"100%",height:"100%"},children:[Object(k.jsxs)("div",{style:{color:"white",margin:"auto"},children:[Object(k.jsx)(T.a,{onClick:this.props.prevSong,style:s}),i,Object(k.jsx)(A.a,{onClick:this.props.nextSong,style:s})]}),Object(k.jsxs)("div",{style:{width:"25rem",display:"flex",flexDirection:"column"},children:[Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"flex-end",color:"white",width:"100%",height:"3rem"},children:[Object(k.jsx)("div",{children:this.props.artist.name}),Object(k.jsx)("div",{children:this.props.song.name})]}),Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row",color:"white",alignItems:"center"},children:[Object(k.jsx)("div",{children:a}),Object(k.jsx)("input",{className:"slider",type:"range",min:"0",max:"100",onChange:this.props.timeScrub,value:r}),Object(k.jsx)("div",{children:c})]})]}),Object(k.jsxs)("div",{style:{color:"white",width:"12rem",height:"2rem",display:"flex",flexDirection:"row",justifyContent:"center",margin:"auto"},children:[Object(k.jsx)("div",{style:{margin:"auto",display:"flex",flexDirection:"col",justifyContent:"flex-end"},children:Object(k.jsx)(E.a,{})}),Object(k.jsx)("input",{type:"range",min:"1",max:"100",onChange:this.props.volumeChange,value:n,id:"myRange"}),Object(k.jsx)("div",{style:{margin:"auto",display:"flex",flexDirection:"col",justifyContent:"center"},children:Object(k.jsx)(H.a,{})})]})]})}}]),s}(r.a.Component)),z=s(11),M=s(34),J=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t={position:"relative",backgroundColor:"rgb(100, 100, 100)",color:"white",width:"100%",display:"grid",gridTemplateColumns:" 1fr 1fr 1fr 1fr",justifyContent:"space-between",alignItems:"center",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",marginBottom:"0.5rem",borderRadius:"5px"},s={height:"48px",width:"48px"};return JSON.stringify(this.props.song)===JSON.stringify(this.props.songWrapper.song)&&this.props.playing?Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{style:s,src:M("./".concat(this.props.songWrapper.song.album.img_url)).default,alt:"Album cover",className:"albumCover"})}),Object(k.jsx)("div",{children:Object(k.jsx)(B.a,{onClick:function(){e.props.pause()}})}),Object(k.jsx)("div",{children:this.props.songWrapper.song.name}),Object(k.jsx)("div",{children:this.props.songWrapper.song.artist.name})]},this.props.index):JSON.stringify(this.props.song)===JSON.stringify(this.props.songWrapper.song)?Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{style:s,src:M("./".concat(this.props.songWrapper.song.album.img_url)).default,alt:"Album cover",className:"albumCover"})}),Object(k.jsx)("div",{children:Object(k.jsx)(D.a,{onClick:function(){return e.props.play()}})}),Object(k.jsx)("div",{children:this.props.songWrapper.song.name}),Object(k.jsx)("div",{children:this.props.songWrapper.song.artist.name})]},this.props.index):Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{style:s,src:M("./".concat(this.props.songWrapper.song.album.img_url)).default,alt:"Album cover",className:"albumCover"})}),Object(k.jsx)("div",{children:Object(k.jsx)(D.a,{onClick:function(){return e.props.playSingleSong(e.props.songWrapper.song.id)}})}),Object(k.jsx)("div",{children:this.props.songWrapper.song.name}),Object(k.jsx)("div",{children:this.props.songWrapper.song.artist.name})]},this.props.index)}}]),s}(r.a.Component),F=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(p.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).delete=function(){e.props.delete(e.props.playlist.id),e.props.back()},e}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t={color:"white"},s={color:"white",width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",justifyContent:"space-between",alignItems:"center",padding:"0 1rem",margin:"0 auto 0.5rem auto"},n={margin:"1rem"};return"Playlist"===this.props.playlist.playlist_type?Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h1",{children:this.props.playlist.name}),Object(k.jsx)(S.a,{onClick:function(){return e.props.playPlaylist(e.props.playlist.id)},style:n,children:"Play Entire Playlist"}),Object(k.jsx)(S.a,{variant:"secondary",onClick:function(){return e.props.editPlaylist()},children:"Edit"}),Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)("div",{children:"Album"}),Object(k.jsx)("div",{children:"Play/Pause"}),Object(k.jsx)("div",{children:"Song"}),Object(k.jsx)("div",{children:"Artist"})]}),this.props.songWrappers.map((function(t,s){return Object(k.jsx)(J,{index:s,songWrapper:t,song:e.props.song,playSingleSong:e.props.playSingleSong,play:e.props.play,pause:e.props.pause,playing:e.props.playing})})),Object(k.jsx)(S.a,{variant:"secondary",onClick:function(){return e.delete()},children:"Delete Playlist"})]}):Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h1",{children:this.props.playlist.name}),Object(k.jsx)(S.a,{onClick:function(){return e.props.playPlaylist(e.props.playlist.id)},style:n,children:"Play Entire Playlist"}),Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)("div",{children:"Album"}),Object(k.jsx)("div",{children:"Play/Pause"}),Object(k.jsx)("div",{children:"Song"}),Object(k.jsx)("div",{children:"Artist"})]}),this.props.songWrappers.map((function(t,s){return Object(k.jsx)(J,{index:s,songWrapper:t,song:e.props.song,playSingleSong:e.props.playSingleSong,play:e.props.play,pause:e.props.pause,playing:e.props.playing})}))]})}}]),s}(r.a.Component),_=s(47),q=s.n(_),U=s(34),G=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{position:"relative",backgroundColor:"rgb(100, 100, 100)",color:"white",width:"100%",display:"grid",gridTemplateColumns:" 1fr 1fr 1fr 1fr",justifyContent:"space-between",alignItems:"center",paddingLeft:"1rem",paddingRight:"1rem",marginBottom:"0.5rem"},children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{style:{height:"48px",width:"48px"},src:U("./".concat(this.props.song.album.img_url)).default,alt:"Album cover",className:"albumCover"})}),Object(k.jsx)("div",{children:this.props.song.name}),Object(k.jsx)("div",{children:this.props.song.artist.name}),Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",fontSize:"small"},children:[Object(k.jsx)("div",{children:"Add Song"}),Object(k.jsx)(q.a,{onClick:function(){return e.props.addSong(e.props.song.id)}})]})]},this.props.index)}}]),s}(r.a.Component),Y=s(48),K=s.n(Y),Q=s(34),X=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{position:"relative",backgroundColor:"rgb(100, 100, 100)",color:"white",width:"100%",display:"grid",gridTemplateColumns:" 1fr 1fr 1fr 1fr",justifyContent:"space-between",alignItems:"center",paddingLeft:"1rem",paddingRight:"1rem",marginBottom:"0.5rem"},children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{style:{height:"48px",width:"48px"},src:Q("./".concat(this.props.songWrapper.song.album.img_url)).default,alt:"Album cover",className:"albumCover"})}),Object(k.jsx)("div",{children:this.props.songWrapper.song.name}),Object(k.jsx)("div",{children:this.props.songWrapper.song.artist.name}),Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",fontSize:"small"},children:[Object(k.jsx)("div",{children:"Delete Song"}),Object(k.jsx)(K.a,{onClick:function(){return e.props.deleteSong(e.props.songWrapper.id)}})]})]},this.props.index)}}]),s}(r.a.Component),Z=s(10),$=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).createPlaylistHandler=Object(l.a)(o.a.mark((function e(){var t,s,r,a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""!==(t=n.getPlaylistName())&&null!==t||n.props.back(),s={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access"))},body:JSON.stringify({name:t})},e.next=5,fetch("https://desi-music-player.herokuapp.com/api/playlists/",s);case 5:return r=e.sent,e.next=8,fetch("https://desi-music-player.herokuapp.com/api/playlists/playlist/3/songs/");case 8:if(a=e.sent,500===r.status||401===a.status){e.next=19;break}return e.next=12,a.json();case 12:return i=e.sent,e.next=15,r.json();case 15:return c=e.sent,n.setState({newSingles:i,playlist:c}),n.loadSongsInPlaylist(),e.abrupt("return",!0);case 19:return e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e)}))),n.getPlaylistName=function(){return prompt("Give the Playlist a Name")},n.searchForSong=Object(l.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://desi-music-player.herokuapp.com/api/songs/song/songbyname/".concat(n.state.searchBarValue,"/"));case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,n.setState({searchedSongs:s});case 7:case"end":return e.stop()}}),e)}))),n.handleSearchBarChange=function(e){n.setState({searchBarValue:e.target.value})},n.tryRefreshToken=Object(l.a)(o.a.mark((function e(){var t,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:localStorage.getItem("refresh")})},e.next=3,fetch("https://desi-music-player.herokuapp.com/api/token/refresh/",t);case 3:if(200!==(s=e.sent).status){e.next=13;break}return e.next=7,s.json();case 7:return n=e.sent,localStorage.setItem("refresh",n.refresh),localStorage.setItem("access",n.access),e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e)}))),n.createSongWrapper=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createRequestHandler(t);case 2:if(e.sent){e.next=8;break}return e.next=6,n.tryRefreshToken();case 6:e.sent?n.createRequestHandler(t):n.setState({sendToLogin:!0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createRequestHandler=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access"))},body:JSON.stringify({song:t,order:n.state.order,playlist:n.state.playlist.id})},e.next=3,fetch("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(n.state.playlist.id,"/songs/"),s);case 3:if(401===e.sent.status){e.next=10;break}return r=n.state.order,r++,n.setState({order:r}),n.loadSongsInPlaylist(),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteSongWrapper=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.deleteRequestHandler(t);case 2:if(e.sent){e.next=8;break}return e.next=6,n.tryRefreshToken();case 6:e.sent?n.this.deleteRequestHandler(t):n.setState({sendToLogin:!0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteRequestHandler=function(){var e=Object(l.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access"))}},e.next=3,fetch("https://desi-music-player.herokuapp.com/api/songwrappers/songwrapper/".concat(t,"/"),s);case 3:if(401===e.sent.status){e.next=7;break}return n.loadSongsInPlaylist(),e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadSongsInPlaylist=Object(l.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(n.state.playlist.id,"/songs/"));case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,n.setState({songsInPlaylist:s});case 7:case"end":return e.stop()}}),e)}))),n.state={playlist:{},newSingles:[],songsInPlaylist:[],searchedSongs:[],searchBarValue:"",searchMessage:"",order:0,sendToLogin:!1},n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createPlaylistHandler();case 2:if(e.sent){e.next=8;break}return e.next=6,this.tryRefreshToken();case 6:e.sent?this.createPlaylistHandler():this.setState({sendToLogin:!0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={marginTop:"5rem",borderTop:"1px solid white"};return this.state.sendToLogin&&Z.a,Object(k.jsxs)("div",{style:{height:"100%",width:"100%",backgroundColor:"rgb(45, 45, 45)",color:"white"},children:[Object(k.jsx)(S.a,{onClick:this.props.back,children:"Done"}),Object(k.jsx)("h1",{children:this.state.playlist.name}),Object(k.jsxs)("form",{style:{display:"flex",flexDirection:"column"},children:[Object(k.jsx)("label",{htmlFor:"songSearch",children:"Search for a song by name"}),Object(k.jsx)("input",{onChange:this.handleSearchBarChange,style:{width:"20rem"},id:"songSearch",placeholder:"Song Name"}),Object(k.jsx)("input",{onClick:function(){return e.searchForSong()},style:{width:"10rem"},type:"button",value:"Search"})]}),Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h4",{children:"Results"}),this.state.searchedSongs.map((function(t,s){return Object(k.jsx)(G,{index:s,song:t,addSong:e.createSongWrapper})}))]}),Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h4",{children:"Songs in this Playlist"}),this.state.songsInPlaylist.map((function(t,s){return Object(k.jsx)(X,{index:s,songWrapper:t,addSong:e.createSongWrapper,deleteSong:e.deleteSongWrapper})}))]}),Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h4",{children:"New Singles"}),this.state.newSingles.map((function(t,s){return Object(k.jsx)(G,{index:s,song:t.song,addSong:e.createSongWrapper})}))]})]})}}]),s}(r.a.Component),ee=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).tryRefreshToken=Object(l.a)(o.a.mark((function e(){var t,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:localStorage.getItem("refresh")})},e.next=3,fetch("https://desi-music-player.herokuapp.com/api/token/refresh/",t);case 3:if(200!==(s=e.sent).status){e.next=13;break}return e.next=7,s.json();case 7:return n=e.sent,localStorage.setItem("refresh",n.refresh),localStorage.setItem("access",n.access),e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e)}))),n.searchForSong=Object(l.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://desi-music-player.herokuapp.com/api/songs/song/songbyname/".concat(n.state.searchBarValue,"/"));case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,n.setState({searchedSongs:s});case 7:case"end":return e.stop()}}),e)}))),n.handleSearchBarChange=function(e){n.setState({searchBarValue:e.target.value})},n.createSongWrapper=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createRequestHandler(t);case 2:if(e.sent){e.next=8;break}return e.next=6,n.tryRefreshToken();case 6:e.sent?n.createRequestHandler(t):n.setState({sendToLogin:!0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createRequestHandler=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access"))},body:JSON.stringify({song:t,order:n.state.order,playlist:n.state.playlist.id})},e.next=3,fetch("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(n.state.playlist.id,"/songs/"),s);case 3:if(401===e.sent.status){e.next=10;break}return r=n.state.order,r++,n.setState({order:r}),n.loadSongsInPlaylist(),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteSongWrapper=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.deleteRequestHandler(t);case 2:if(e.sent){e.next=8;break}return e.next=6,n.tryRefreshToken();case 6:e.sent?n.this.deleteRequestHandler(t):n.setState({sendToLogin:!0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteRequestHandler=function(){var e=Object(l.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access"))}},e.next=3,fetch("https://desi-music-player.herokuapp.com/api/songwrappers/songwrapper/".concat(t,"/"),s);case 3:if(401===e.sent.status){e.next=7;break}return n.loadSongsInPlaylist(),e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadSongsInPlaylist=Object(l.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(n.state.playlist.id,"/songs/"));case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,n.setState({songsInPlaylist:s});case 7:case"end":return e.stop()}}),e)}))),n.state={playlist:{},backToListenNow:!1,newSingles:[],songsInPlaylist:[],searchedSongs:[],searchBarValue:"",searchMessage:"",order:0,sendToLogin:!1},n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,s,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(this.props.playlist.id,"/"));case 2:return t=e.sent,e.next=5,t.json();case 5:return s=e.sent,e.next=8,fetch("https://desi-music-player.herokuapp.com/api/playlists/playlist/10/songs/");case 8:return n=e.sent,e.next=11,n.json();case 11:r=e.sent,this.setState({newSingles:r,playlist:s}),this.loadSongsInPlaylist();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={marginTop:"5rem",borderTop:"1px solid white"};return this.state.sendToLogin&&Z.a,Object(k.jsxs)("div",{style:{height:"100%",width:"100%",backgroundColor:"rgb(45, 45, 45)",color:"white"},children:[Object(k.jsx)(S.a,{onClick:this.props.back,children:"Done"}),Object(k.jsx)("h1",{children:this.state.playlist.name}),Object(k.jsxs)("form",{style:{display:"flex",flexDirection:"column"},children:[Object(k.jsx)("label",{htmlFor:"songSearch",children:"Search for a song by name"}),Object(k.jsx)("input",{onChange:this.handleSearchBarChange,style:{width:"20rem"},id:"songSearch",placeholder:"Song Name"}),Object(k.jsx)("input",{onClick:function(){return e.searchForSong()},style:{width:"10rem"},type:"button",value:"Search"})]}),Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h4",{children:"Results"}),this.state.searchedSongs.map((function(t,s){return Object(k.jsx)(G,{index:s,song:t,addSong:e.createSongWrapper})}))]}),Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h4",{children:"Songs in this Playlist"}),this.state.songsInPlaylist.map((function(t,s){return Object(k.jsx)(X,{index:s,songWrapper:t,deleteSong:e.deleteSongWrapper})}))]})]})}}]),s}(r.a.Component),te=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).getPlaylists=Object(l.a)(o.a.mark((function e(){var t,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access"))}},e.next=3,n.props.fetchAPI("https://desi-music-player.herokuapp.com/api/playlists/",t);case 3:return s=e.sent,e.next=6,s.json();case 6:r=e.sent,n.setState({playlists:r});case 8:case"end":return e.stop()}}),e)}))),n.loadPlaylist=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.fetchAPI("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(t.id,"/songs/"),{});case 2:return s=e.sent,e.next=5,s.json();case 5:r=e.sent,n.setState({playlist:!0,currentPlaylist:t,songWrappers:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadCreatePlaylist=function(){n.setState({createPlaylist:!0})},n.loadEditPlaylist=function(){n.setState({editPlaylist:!0})},n.deletePlaylist=function(){var e=Object(l.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access"))}},e.next=3,n.props.fetchAPI("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(t,"/"),s);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.back=function(){n.setState({playlist:!1,createPlaylist:!1,editPlaylist:!1})},n.state={createPlaylist:!1,playlist:!1,editPlaylist:!1,currentPlaylist:{},songWrappers:[],playlists:[],songs:[]},n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.getPlaylists()}},{key:"render",value:function(){var e=this,t={height:"100%",width:"100%",backgroundColor:"rgb(45, 45, 45)",color:"white"},s={backgroundColor:"rgb(100, 100, 100)",color:"white",maxWidth:"15rem",margin:"1rem",display:"flex"};return this.state.createPlaylist?Object(k.jsx)($,{back:this.back}):this.state.editPlaylist?Object(k.jsx)(ee,{playlist:this.state.currentPlaylist,back:this.back}):localStorage.getItem("access")?0===this.state.playlists.length?Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h1",{style:{color:"white"},children:"You have no playlists at the moment"}),Object(k.jsx)(S.a,{variant:"secondary",onClick:this.loadCreatePlaylist,children:"Create Playlist"})]}):this.state.playlist?Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(S.a,{variant:"secondary",onClick:this.back,children:"Back"}),Object(k.jsx)(F,{editPlaylist:this.loadEditPlaylist,back:this.back,delete:this.deletePlaylist,playlist:this.state.currentPlaylist,song:this.props.song,songWrappers:this.state.songWrappers,playSingleSong:this.props.playSingleSong,playPlaylist:this.props.playPlaylist,pause:this.props.pause,play:this.props.play,playing:this.props.playing})]}):Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h1",{children:"".concat(localStorage.getItem("username"),"'s Playlists")}),Object(k.jsx)(S.a,{style:{marginLeft:"1rem"},variant:"secondary",onClick:this.loadCreatePlaylist,children:"Create Playlist"}),this.state.playlists.map((function(t,n){return Object(k.jsx)(z.a,{style:s,children:Object(k.jsxs)(z.a.Body,{children:[Object(k.jsx)(z.a.Title,{children:t.name}),Object(k.jsx)(S.a,{onClick:function(){return e.loadPlaylist(t)},children:"view"})]})},n)}))]}):Object(k.jsx)("div",{style:t,children:Object(k.jsx)("h1",{style:{color:"white"},children:"Please sign in to save playlists"})})}}]),s}(r.a.Component),se=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t={position:"relative",backgroundColor:"rgb(100, 100, 100)",color:"white",width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",justifyContent:"space-between",alignItems:"center",paddingLeft:"1rem",paddingRight:"1rem",marginBottom:"0.5rem",minHeight:"48px"},s=!0;return JSON.stringify(this.props.song)===JSON.stringify(this.props.songWrapper.song)&&this.props.playing&&(s=!1),s?Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("div",{children:Object(k.jsx)(D.a,{onClick:function(){return e.props.playSingleSong(e.props.songWrapper.song.id)}})}),Object(k.jsx)("div",{children:this.props.songWrapper.song.name}),Object(k.jsx)("div",{children:this.props.songWrapper.song.artist.name})]},this.props.index):Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("div",{children:Object(k.jsx)(B.a,{onClick:function(){e.props.pause()}})}),Object(k.jsx)("div",{children:this.props.songWrapper.song.name}),Object(k.jsx)("div",{children:this.props.songWrapper.song.artist.name})]},this.props.index)}}]),s}(r.a.Component),ne=s(34),re=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).state={songs:[]},n}return Object(u.a)(s,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{style:{width:"100%",height:"200px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(k.jsx)("img",{style:{height:"100%",width:"auto"},src:ne("./".concat(this.props.album.img_url)).default,alt:"Album cover"})}),Object(k.jsx)("h1",{children:this.props.album.name}),Object(k.jsx)(S.a,{onClick:function(){return e.props.playPlaylist(e.props.album.id)},children:"Play Entire Album"}),Object(k.jsxs)("div",{style:{color:"white",width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",justifyContent:"space-between",alignItems:"center",paddingLeft:"1rem",paddingRight:"1rem",marginBottom:"0.5rem"},children:[Object(k.jsx)("div",{children:"Play"}),Object(k.jsx)("div",{children:"Song"}),Object(k.jsx)("div",{children:"Artist"})]}),this.props.songWrappers.map((function(t,s){return Object(k.jsx)(se,{index:s,songWrapper:t,song:e.props.song,playSingleSong:e.props.playSingleSong,play:e.props.play,pause:e.props.pause,playing:e.props.playing})}))]})}}]),s}(r.a.Component),ae=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).loadAlbum=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.fetchAPI("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(t.id,"/songs/"),{});case 2:return s=e.sent,e.next=5,s.json();case 5:r=e.sent,n.setState({playlist:!1,songWrappers:r,displayAlbum:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadPlaylist=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.fetchAPI("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(t.id,"/songs/"),{});case 2:return s=e.sent,e.next=5,s.json();case 5:r=e.sent,n.setState({playlist:!0,displayAlbum:!1,currentPlaylist:t,songWrappers:r,playlistId:t.id});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.back=function(){n.setState({playlist:!1,displayAlbum:!1})},n.state={artists:[],artistName:"",playlist:!1,currentPlaylist:{},songWrappers:[],playlists:[],artistEssentials:[],newSingles:{},displayAlbum:!1,album:{}},n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,s,n,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchAPI("https://desi-music-player.herokuapp.com/api/artists/artist/".concat(1,"/essentials/"),{});case 2:return t=e.sent,e.next=5,t.json();case 5:return s=e.sent,e.next=8,this.props.fetchAPI("https://desi-music-player.herokuapp.com/api/curatedplaylists/curatedplaylist/2/",{});case 8:return n=e.sent,e.next=11,n.json();case 11:return r=e.sent,e.next=14,this.props.fetchAPI("https://desi-music-player.herokuapp.com/api/albums/album/1/",{});case 14:return a=e.sent,e.next=17,a.json();case 17:i=e.sent,this.setState({album:i,newSingles:r,artistEssentials:s});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={height:"100%",width:"100%",backgroundColor:"rgb(45, 45, 45)",color:"white"},s={backgroundColor:"rgb(100, 100, 100)",color:"white",maxWidth:"15rem",margin:"1rem"},n={margin:"1rem"};return this.state.playlist?Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(S.a,{variant:"secondary",style:n,onClick:this.back,children:"Back"}),Object(k.jsx)(F,{playlist:this.state.currentPlaylist,song:this.props.song,songWrappers:this.state.songWrappers,playSingleSong:this.props.playSingleSong,playPlaylist:this.props.playPlaylist,pause:this.props.pause,play:this.props.play,playing:this.props.playing})]}):this.state.displayAlbum?Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(S.a,{variant:"secondary",style:n,onClick:this.back,children:"Back"}),Object(k.jsx)(re,{album:this.state.album,song:this.props.song,songWrappers:this.state.songWrappers,playSingleSong:this.props.playSingleSong,playPlaylist:this.props.playPlaylist,pause:this.props.pause,play:this.props.play,playing:this.props.playing})]}):Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h1",{children:"FRESH NEW ARTISTS"}),this.state.artistEssentials.map((function(t,n){return Object(k.jsx)(z.a,{style:s,children:Object(k.jsxs)(z.a.Body,{children:[Object(k.jsx)(z.a.Title,{children:t.name}),Object(k.jsx)(S.a,{onClick:function(){return e.loadPlaylist(t)},children:"view"})]})},n)})),Object(k.jsxs)("div",{style:{borderTop:"1px solid white",borderBottom:"1px solid white"},children:[Object(k.jsx)("h1",{children:"FRESH NEW SINGLES"}),Object(k.jsx)(z.a,{style:s,children:Object(k.jsxs)(z.a.Body,{children:[Object(k.jsx)(z.a.Title,{children:"New Singles"}),Object(k.jsx)(S.a,{onClick:function(){return e.loadPlaylist(e.state.newSingles)},children:"view"})]})})]}),Object(k.jsx)("h1",{children:"HOTTEST ALBUMS"}),Object(k.jsx)(z.a,{style:s,children:Object(k.jsxs)(z.a.Body,{children:[Object(k.jsx)(z.a.Title,{children:this.state.album.name}),Object(k.jsx)(S.a,{onClick:function(){return e.loadAlbum(e.state.album)},children:"view"})]})})]})}}]),s}(r.a.Component),ie=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).loadAlbum=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.fetchAPI("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(t.id,"/songs/"),{});case 2:return s=e.sent,e.next=5,s.json();case 5:r=e.sent,n.setState({album:!0,albumObj:t,songs:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.back=function(){n.setState({album:!1})},n.state={albums:[],albumObj:{},album:!1,songs:[]},n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchAPI("https://desi-music-player.herokuapp.com/api/albums/",{});case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,this.setState({albums:s});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={height:"100%",width:"100%",backgroundColor:"rgb(45, 45, 45)",color:"white"},s={backgroundColor:"rgb(100, 100, 100)",color:"white",width:"15rem",minHeight:"48px",margin:"1rem",display:"grid",gridTemplateColumns:" 1fr 1fr 1fr",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"};return this.state.album?Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(S.a,{variant:"secondary",onClick:this.back,children:"Back"}),Object(k.jsx)(re,{album:this.state.albumObj,song:this.props.song,songWrappers:this.state.songs,playSingleSong:this.props.playSingleSong,playPlaylist:this.props.playPlaylist,pause:this.props.pause,play:this.props.play,playing:this.props.playing})]}):Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h1",{children:"HOTTEST ALBUMS"}),this.state.albums.map((function(t,n){return Object(k.jsx)(z.a,{style:s,children:Object(k.jsxs)(z.a.Body,{children:[Object(k.jsx)(z.a.Title,{children:t.name}),Object(k.jsx)(S.a,{onClick:function(){e.loadAlbum(t)},variant:"primary",children:"View"})]})},n)}))]})}}]),s}(r.a.Component),ce=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).loadArtist=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.fetchAPI("https://desi-music-player.herokuapp.com/api/artists/artist/".concat(t.id,"/essentials/"),{});case 2:return s=e.sent,e.next=5,s.json();case 5:r=e.sent,n.setState({artist:!0,playlist:!1,artistName:t.name,playlists:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.loadPlaylist=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.fetchAPI("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(t.id,"/songs/"),{});case 2:return s=e.sent,e.next=5,s.json();case 5:r=e.sent,n.setState({artist:!1,playlist:!0,currentPlaylist:t,songWrappers:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.backToArtists=function(){n.setState({artist:!1})},n.backToArtist=function(){n.setState({playlist:!1,artist:!0})},n.state={artists:[],artistName:"",artist:!1,playlist:!1,playlistName:"",songWrappers:[],playlists:[]},n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchAPI("https://desi-music-player.herokuapp.com/api/artists/",{});case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,this.setState({artists:s});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={height:"100%",width:"100%",backgroundColor:"rgb(45, 45, 45)",color:"white"},s={backgroundColor:"rgb(100, 100, 100)",color:"white",maxWidth:"15rem",margin:"1rem"};return this.state.artist?Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(S.a,{variant:"secondary",onClick:this.backToArtists,children:"Back"}),Object(k.jsx)("h1",{children:this.state.artistName}),this.state.playlists.map((function(t,n){return Object(k.jsx)(z.a,{style:s,children:Object(k.jsxs)(z.a.Body,{children:[Object(k.jsx)(z.a.Title,{children:t.name}),Object(k.jsx)(S.a,{onClick:function(){return e.loadPlaylist(t)},children:"View"})]})},n)}))]}):this.state.playlist?Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(S.a,{variant:"secondary",onClick:this.backToArtist,children:"Back"}),Object(k.jsx)(F,{playlist:this.state.currentPlaylist,songWrappers:this.state.songWrappers,playSingleSong:this.props.playSingleSong})]}):Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("h1",{children:"HOTTEST ARTISTS"}),this.state.artists.map((function(t,n){return Object(k.jsx)(z.a,{style:s,children:Object(k.jsxs)(z.a.Body,{children:[Object(k.jsx)(z.a.Title,{children:t.name}),Object(k.jsx)(S.a,{onClick:function(){e.loadArtist(t)},variant:"primary",children:"View"})]})},n)}))]})}}]),s}(r.a.Component),oe=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).state={songWrappers:[],currentPlaylist:{}},n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,s,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchAPI("https://desi-music-player.herokuapp.com/api/playlists/playlist/3/songs/",{});case 2:return t=e.sent,e.next=5,t.json();case 5:return s=e.sent,e.next=8,this.props.fetchAPI("https://desi-music-player.herokuapp.com/api/curatedplaylists/curatedplaylist/3/",{});case 8:return n=e.sent,e.next=11,n.json();case 11:r=e.sent,this.setState({songWrappers:s,currentPlaylist:r});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsx)("div",{style:{marginTop:"0",width:"100%",height:"100%",backgroundColor:"rgb(45, 45, 45)",color:"white"},children:Object(k.jsx)(F,{playlist:this.state.currentPlaylist,song:this.props.song,songWrappers:this.state.songWrappers,playSingleSong:this.props.playSingleSong,playPlaylist:this.props.playPlaylist,pause:this.props.pause,play:this.props.play,playing:this.props.playing})})}}]),s}(r.a.Component),le=s(49),pe=s.n(le),ue=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t={display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"15px",height:"4rem"},s={display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"15px",height:"4rem",backgroundColor:"rgba(202, 200, 200, 0.2)"},n={display:"flex",flexDirection:"column",alignItems:"center",height:"100%"},r={fontSize:"2rem",color:"rgb(219, 9, 89)",marginTop:"0.25rem"},a=Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(y.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Listen Now"})})]}),i=Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(g.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Browse"})})]}),c=Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(w.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Songs"})})]});switch(this.props.page){case"listennow":a=Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)(y.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Listen Now"})})]});break;case"browse":i=Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)(g.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Browse"})})]});break;case"songs":c=Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)(w.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Songs"})})]});break;default:a=Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)(y.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Listen Now"})})]})}return Object(k.jsx)("div",{style:{backgroundColor:"rgb(57, 67, 82)",height:"100%",width:"100vw",position:"relative",paddingTop:"1rem"},children:Object(k.jsxs)("div",{className:"nav-list",style:{listStyle:"none",color:"white",display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr"},children:[Object(k.jsx)("div",{onClick:function(){return e.props.setPage("listennow")},children:a}),Object(k.jsx)("div",{onClick:function(){return e.props.setPage("browse")},children:i}),Object(k.jsx)("div",{onClick:function(){return e.props.setPage("songs")},children:c}),Object(k.jsx)("div",{children:Object(k.jsx)("a",{href:"/music-player-frontend/#/settings",style:{color:"white"},children:Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)(pe.a,{style:r}),Object(k.jsx)("div",{style:n,children:Object(k.jsx)("p",{children:"Settings"})})]})})})]})})}}]),s}(r.a.Component),he=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e,t=this,s={fontSize:"3rem"},n={fontSize:"2rem"};return e=this.props.playBool?Object(k.jsx)(B.a,{onClick:function(){return t.props.pause()},style:s}):Object(k.jsx)(D.a,{onClick:function(){return t.props.play()},style:s}),Object(k.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",backgroundColor:"rgba(0, 0, 0, 0.9)",width:"100vw",height:"100%"},onClick:this.props.showAlbumNav,children:[Object(k.jsxs)("div",{style:{color:"white",margin:"auto"},children:[Object(k.jsx)(T.a,{onClick:this.props.prevSong,style:n}),e,Object(k.jsx)(A.a,{onClick:this.props.nextSong,style:n})]}),Object(k.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(k.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",color:"white",width:"100%",height:"3rem",margin:"auto"},children:Object(k.jsx)("div",{children:this.props.song.name})})})]})}}]),s}(r.a.Component),de=s(50),je=s.n(de),ye=s(34),be=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this,t={fontSize:"5rem"},s={fontSize:"4rem"},n=100*this.props.audio.volume,r=this.props.currentTime/this.props.duration*100;isNaN(r)&&(r=0);var a=0;isNaN(this.props.currentTime)||(a=new Date(1e3*this.props.currentTime).toISOString().substr(14,5));var i,c=0;return isNaN(this.props.duration)||(c=new Date(1e3*this.props.duration).toISOString().substr(14,5)),i=this.props.playBool?Object(k.jsx)(B.a,{onClick:function(){return e.props.pause()},style:t}):Object(k.jsx)(D.a,{onClick:function(){return e.props.play()},style:t}),Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.9)",width:"100vw",height:"100%"},children:[Object(k.jsx)("div",{style:{color:"white",width:"100vw",display:"flex",justifyContent:"flex-start"},children:Object(k.jsx)(je.a,{style:s,onClick:this.props.hideAlbumNav})}),Object(k.jsx)("img",{style:{marginTop:"5rem",height:"250px",width:"250px"},src:ye("./".concat(this.props.song.album.img_url)).default,alt:"Album cover",className:"albumCover"}),Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",color:"white",width:"100%",height:"3rem",fontSize:"1rem"},children:[Object(k.jsx)("div",{children:this.props.artist.name}),Object(k.jsx)("div",{children:this.props.song.name})]}),Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row",color:"white",alignItems:"center"},children:[Object(k.jsx)("div",{children:a}),Object(k.jsx)("input",{className:"slider-mobile",type:"range",min:"0",max:"100",onChange:this.props.timeScrub,value:r}),Object(k.jsx)("div",{children:c})]})]}),Object(k.jsxs)("div",{style:{color:"white"},children:[Object(k.jsx)(T.a,{onClick:this.props.prevSong,style:s}),i,Object(k.jsx)(A.a,{onClick:this.props.nextSong,style:s})]}),Object(k.jsxs)("div",{style:{color:"white",width:"12rem",height:"2rem",display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"1rem"},children:[Object(k.jsx)("div",{style:{margin:"auto",display:"flex",flexDirection:"col",justifyContent:"flex-end"},children:Object(k.jsx)(E.a,{})}),Object(k.jsx)("input",{type:"range",min:"1",max:"100",onChange:this.props.volumeChange,value:n,id:"myRange"}),Object(k.jsx)("div",{style:{margin:"auto",display:"flex",flexDirection:"col",justifyContent:"center"},children:Object(k.jsx)(H.a,{})})]})]})}}]),s}(r.a.Component),ge=s(73),me=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).updateWindowDimensions=function(){n.setState({width:window.innerWidth})},n.fetchAPI=function(){var e=Object(l.a)(o.a.mark((function e(t,s){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null!==(r=s)&&void 0!==r?r:{method:"GET",headers:{"Content-Type":"application/json"}},e.next=3,fetch(t,s);case 3:if(200===(a=e.sent).status){e.next=9;break}return n.loginPattern(),e.next=8,fetch(t,s);case 8:a=e.sent;case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),n.loginPattern=Object(l.a)(o.a.mark((function e(){var t,s,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:localStorage.getItem("refresh")})},e.next=4,fetch("https://desi-music-player.herokuapp.com/api/token/refresh/",s);case 4:if(200!==(r=e.sent).status){e.next=12;break}return e.next=8,r.json();case 8:a=e.sent,localStorage.setItem("refresh",a.refresh),localStorage.setItem("access",a.access),t=!0;case 12:t||n.setState({sendToLogin:!0});case 13:case"end":return e.stop()}}),e)}))),n.setPlayListSong=function(e,t){n.setSong(t,0),n.setState({playlist:e})},n.setSong=function(e,t){n.state.audio.pause();var s=new Audio(ge("./".concat(e.url)).default);s.addEventListener("timeupdate",(function(){n.setState({currentTime:s.currentTime})})),s.addEventListener("ended",(function(){n.setState({playing:!1})})),s.addEventListener("loadedmetadata",(function(){n.setState({duration:s.duration})})),n.state.playing&&s.play(),n.controlVolume(s),n.setState({audio:s,artist:e.artist,song:e,songIndex:t})},n.controlVolume=function(e){e.volume=n.state.volume},n.playPlaylist=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.state.audio.pause(),e.next=3,n.fetchAPI("https://desi-music-player.herokuapp.com/api/playlists/playlist/".concat(t,"/songs/"));case 3:return s=e.sent,e.next=6,s.json();case 6:r=e.sent,n.setPlayListSong(r,r[0].song),n.play();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.playSingleSong=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchAPI("https://desi-music-player.herokuapp.com/api/songs/song/".concat(t,"/"));case 2:return s=e.sent,e.next=5,s.json();case 5:r=e.sent,n.setPlayListSong([],r),n.pause(),n.play();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.nextSong=function(){var e=n.state.songIndex;e<n.state.playlist.length-1&&(n.state.audio.pause(),e++,n.setSong(n.state.playlist[e].song,e))},n.prevSong=function(){var e=n.state.songIndex;if(n.state.currentTime>2||0===e){var t=n.state.audio;t.currentTime=0,n.setState({audio:t})}else n.state.audio.pause(),e--,n.setSong(n.state.playlist[e].song,e)},n.play=function(){n.setState({playing:!0}),n.state.audio.play()},n.pause=function(){n.setState({playing:!1}),n.state.audio.pause()},n.volumeChange=function(e){var t=e.target.value/100,s=n.state.audio;s.volume=t,n.setState({audio:s,volume:t})},n.timeScrub=function(e){var t=e.target.value/100*n.state.audio.duration,s=n.state.audio;s.currentTime=t,n.setState({audio:s})},n.setPage=function(e){n.setState({page:e})},n.setPlaylistView=function(e){n.setState({infoPlaylistId:e})},n.showAlbumNav=function(){n.setState({albumNav:!0})},n.hideAlbumNav=function(){n.setState({albumNav:!1})},n.state={width:0,sendToLogin:!1,page:"listennow",playlist:[],playing:!1,songIndex:0,song:{},album:{},artist:{},infoPlaylistId:0,audio:new Audio(ge("./maineday6.m4a").default),duration:0,currentTime:0,volume:1,albumNav:!1},n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),e.next=4,this.fetchAPI("https://desi-music-player.herokuapp.com/api/songs/song/1/");case 4:return t=e.sent,e.next=7,t.json();case 7:s=e.sent,this.setPlayListSong([],s),this.pause();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){if(this.state.sendToLogin)return Object(k.jsx)(Z.a,{to:"/login"});var e,t={display:"flex",flexDirection:"row",minHeight:"100vh"},s={display:"flex",flexDirection:"column",width:"100%"};switch(this.state.page){case"listennow":e=Object(k.jsx)(te,{fetchAPI:this.fetchAPI,playPlaylist:this.playPlaylist,setPlaylistView:this.setPlaylistView,setPage:this.setPage,playSingleSong:this.playSingleSong,pause:this.pause,play:this.play,song:this.state.song,playing:this.state.playing});break;case"browse":e=Object(k.jsx)(ae,{fetchAPI:this.fetchAPI,playPlaylist:this.playPlaylist,setPlaylistView:this.setPlaylistView,setPage:this.setPage,playSingleSong:this.playSingleSong,pause:this.pause,play:this.play,song:this.state.song,playing:this.state.playing});break;case"artists":e=Object(k.jsx)(ce,{fetchAPI:this.fetchAPI,playPlaylist:this.playPlaylist,setPlaylistView:this.setPlaylistView,setPage:this.setPage,playSingleSong:this.playSingleSong,pause:this.pause,play:this.play,song:this.state.song,playing:this.state.playing});break;case"albums":e=Object(k.jsx)(ie,{fetchAPI:this.fetchAPI,playPlaylist:this.playPlaylist,setPlaylistView:this.setPlaylistView,setPage:this.setPage,playSingleSong:this.playSingleSong,pause:this.pause,play:this.play,song:this.state.song,playing:this.state.playing});break;case"songs":e=Object(k.jsx)(oe,{fetchAPI:this.fetchAPI,playPlaylist:this.playPlaylist,setPlaylistView:this.setPlaylistView,setPage:this.setPage,playSingleSong:this.playSingleSong,pause:this.pause,play:this.play,song:this.state.song,playing:this.state.playing});break;default:e=Object(k.jsx)(te,{})}return this.state.albumNav?Object(k.jsx)("div",{style:t,children:Object(k.jsx)("div",{style:s,children:Object(k.jsx)(be,{hideAlbumNav:this.hideAlbumNav,audio:this.state.audio,play:this.play,pause:this.pause,playBool:this.state.playing,timeScrub:this.timeScrub,volumeChange:this.volumeChange,nextSong:this.nextSong,prevSong:this.prevSong,album:this.state.album,artist:this.state.artist,song:this.state.song,duration:this.state.duration,currentTime:this.state.currentTime})})}):this.state.width<1e3?Object(k.jsx)("div",{style:{display:"flex",flexDirection:"row",height:"100vh"},children:Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(k.jsx)("div",{style:{width:"100%",height:"calc(100vh - 8rem)",paddingBottom:"1rem",overflow:"auto",backgroundColor:"rgb(45, 45, 45)"},children:e}),Object(k.jsxs)("div",{style:{position:"fixed",bottom:"0"},children:[Object(k.jsx)("div",{style:{display:"flex",width:"100%",height:"3rem"},children:Object(k.jsx)(he,{showAlbumNav:this.showAlbumNav,audio:this.state.audio,play:this.play,pause:this.pause,playBool:this.state.playing,timeScrub:this.timeScrub,volumeChange:this.volumeChange,nextSong:this.nextSong,prevSong:this.prevSong,album:this.state.album,artist:this.state.artist,song:this.state.song,duration:this.state.duration,currentTime:this.state.currentTime})}),Object(k.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(k.jsx)(ue,{page:this.state.page,setPage:this.setPage,showSettings:this.showSettings})})]})]})}):Object(k.jsxs)("div",{style:t,children:[Object(k.jsx)("div",{style:{display:"flex",width:"20rem"},children:Object(k.jsx)(C,{page:this.state.page,setPage:this.setPage})}),Object(k.jsxs)("div",{style:s,children:[Object(k.jsx)("div",{style:{display:"flex",width:"100%",height:"4rem"},children:Object(k.jsx)(V,{audio:this.state.audio,play:this.play,pause:this.pause,playBool:this.state.playing,timeScrub:this.timeScrub,volumeChange:this.volumeChange,nextSong:this.nextSong,prevSong:this.prevSong,album:this.state.album,artist:this.state.artist,song:this.state.song,duration:this.state.duration,currentTime:this.state.currentTime})}),Object(k.jsx)("div",{style:{width:"100%",height:"100%"},children:e})]})]})}}]),s}(r.a.Component),fe=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(k.jsx)("div",{style:{height:"100%",width:"100%",backgroundColor:"rgb(45, 45, 45)"},children:Object(k.jsxs)(z.a,{style:{backgroundColor:"rgb(100, 100, 100)",color:"white",maxWidth:"15rem",margin:"1rem"},children:[Object(k.jsx)(z.a.Img,{variant:"top"}),Object(k.jsxs)(z.a.Body,{children:[Object(k.jsx)(z.a.Title,{children:"Song"}),Object(k.jsx)(z.a.Text,{children:"Image"}),Object(k.jsx)(S.a,{variant:"primary",children:"Listen"})]})]})})}}]),s}(r.a.Component),xe=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).usernameChange=function(e){n.setState({username:e.target.value})},n.passwordChange=function(e){n.setState({password:e.target.value})},n.login=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:n.state.username,password:n.state.password})},e.next=4,fetch("https://desi-music-player.herokuapp.com/api/token/",s);case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,200===r.status?(n.setState({message:"Logged In",redirect:!0}),localStorage.setItem("refresh",a.refresh),localStorage.setItem("access",a.access),localStorage.setItem("username",n.state.username),window.location.reload()):n.setState({message:"There was a problem. Make sure you entered the correct username and password"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={username:"",password:"",message:"",redirect:!1},n}return Object(u.a)(s,[{key:"render",value:function(){var e={color:"white"},t={margin:"0.5rem"};return this.state.redirect?Object(k.jsx)(Z.a,{to:"/"}):Object(k.jsxs)("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgb(45, 45, 45)"},children:[Object(k.jsx)("h1",{style:e,children:"Desi's Music App"}),Object(k.jsx)("h3",{style:e,children:this.state.message}),Object(k.jsxs)("form",{style:{display:"flex",flexDirection:"column"},onSubmit:this.login,children:[Object(k.jsx)("input",{style:t,value:this.state.username,onChange:this.usernameChange,placeholder:"Username"}),Object(k.jsx)("input",{style:t,value:this.state.password,onChange:this.passwordChange,placeholder:"Password",type:"password"}),Object(k.jsx)("input",{style:{margin:"auto",marginTop:"0.5rem",width:"50%",height:"2rem"},type:"submit",value:"Login"})]}),Object(k.jsx)("a",{href:"/music-player-frontend/#/signup",children:"Signup"})]})}}]),s}(r.a.Component),Oe=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).usernameChange=function(e){n.setState({username:e.target.value})},n.firstnameChange=function(e){n.setState({firstname:e.target.value})},n.emailChange=function(e){n.setState({email:e.target.value})},n.passwordChange=function(e){n.setState({password:e.target.value})},n.confirmationChange=function(e){n.setState({confirmation:e.target.value})},n.signup=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.password===n.state.confirmation){e.next=4;break}n.setState({message:"Passwords must match"}),e.next=14;break;case 4:if(!(n.state.password.length<8||n.state.password.length>=128)){e.next=8;break}n.setState({message:"Password must be between 8 and 128 characters."}),e.next=14;break;case 8:return t.preventDefault(),s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:n.state.username,password:n.state.password,email:n.state.email})},e.next=12,fetch("https://desi-music-player.herokuapp.com/api/signup/create/",s);case 12:201===(r=e.sent).status?n.setState({message:"Signed up",redirect:!0}):500===r.status?n.setState({message:"The username or email is taken, try another."}):n.setState({message:"Try a different password, minimum 8 characters."});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={username:"",firstname:"",email:"",password:"",confirmation:"",message:"",redirect:!1},n}return Object(u.a)(s,[{key:"render",value:function(){var e={color:"white"},t={margin:"0.5rem"};return this.state.redirect?Object(k.jsx)(Z.a,{to:"/#/login"}):Object(k.jsxs)("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgb(45, 45, 45)"},children:[Object(k.jsx)("h1",{style:e,children:"Desi's Music App"}),Object(k.jsx)("h3",{style:e,children:this.state.message}),Object(k.jsxs)("form",{style:{display:"flex",flexDirection:"column"},onSubmit:this.signup,children:[Object(k.jsx)("input",{style:t,value:this.state.username,onChange:this.usernameChange,placeholder:"Username"}),Object(k.jsx)("input",{style:t,value:this.state.email,onChange:this.emailChange,placeholder:"Email",type:"email"}),Object(k.jsx)("input",{style:t,value:this.state.firstname,onChange:this.firstnameChange,placeholder:"First Name"}),Object(k.jsx)("input",{style:t,value:this.state.password,onChange:this.passwordChange,placeholder:"Password",type:"password"}),Object(k.jsx)("input",{style:t,value:this.state.confirmation,onChange:this.confirmationChange,placeholder:"Confirm password",type:"password"}),Object(k.jsx)("input",{style:{margin:"auto",marginTop:"0.5rem",width:"50%",height:"2rem"},type:"submit",value:"Sign up"})]})]})}}]),s}(r.a.Component),ve=s(51),we=s.n(ve),Se=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).logout=function(){localStorage.clear(),n.setState({redirect:!0})},n.state={redirect:!1},n}return Object(u.a)(s,[{key:"render",value:function(){if(this.state.redirect)return Object(k.jsx)(Z.a,{to:"/#/login"});var e=Object(k.jsxs)("div",{children:[Object(k.jsx)("a",{href:"#/login",children:Object(k.jsx)(S.a,{variant:"secondary",children:"Login"})}),Object(k.jsx)("a",{href:"#/signup",children:Object(k.jsx)(S.a,{variant:"secondary",children:"Signup"})})]});return localStorage.getItem("access")&&(e=Object(k.jsx)(S.a,{variant:"secondary",onClick:this.logout,children:"Logout"})),Object(k.jsxs)("div",{style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgb(45, 45, 45)",color:"white",padding:"1rem"},children:[Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},children:[Object(k.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:"100%"},children:Object(k.jsx)("a",{href:"/music-player-frontend/#/",children:Object(k.jsx)(S.a,{variant:"secondary",children:Object(k.jsx)(we.a,{})})})}),Object(k.jsx)("h1",{children:"Settings"})]}),e,Object(k.jsx)("div",{children:"Created By Desi DeVaul"})]})}}]),s}(r.a.Component),ke=s(52),Ce=s.n(ke),Pe=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(){return Object(p.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(k.jsxs)("div",{style:{height:"100vh",width:"100vw",backgroundColor:"rgb(45, 45, 45)",color:"white",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(k.jsx)("h1",{children:"The app is still loading! Please be patient, I'm using the free version of Heroku"}),Object(k.jsx)(Ce.a.Grid,{})]})}}]),s}(r.a.Component),Te=(s(91),s(53)),Ie=function(e){Object(h.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e)).loginProcedure=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.tryAccessToken();case 2:if(e.sent){e.next=13;break}return e.next=6,n.tryRefreshToken();case 6:if(!e.sent){e.next=12;break}return e.next=10,n.tryAccessToken();case 10:e.next=13;break;case 12:n.setState({sendToLogin:!0});case 13:n.setState({showLoading:!1});case 14:case"end":return e.stop()}}),e)}))),n.tryAccessToken=Object(l.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access"))}},e.next=3,fetch("https://desi-music-player.herokuapp.com/api/playlists/",t);case 3:if(401===(s=e.sent).status||500===s.status){e.next=6;break}return e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)}))),n.tryRefreshToken=Object(l.a)(o.a.mark((function e(){var t,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:localStorage.getItem("refresh")})},e.next=3,fetch("https://desi-music-player.herokuapp.com/api/token/refresh/",t);case 3:if(200!==(s=e.sent).status){e.next=11;break}return e.next=7,s.json();case 7:return n=e.sent,localStorage.setItem("refresh",n.refresh),localStorage.setItem("access",n.access),e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)}))),n.state={showLoading:!0,sendToLogin:!1},n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),this.setState({showLoading:!0},(function(){return e.loginProcedure()}))}},{key:"render",value:function(){return this.state.showLoading?Object(k.jsx)(Pe,{}):Object(k.jsx)(Te.a,{basename:"/music-player-frontend",children:Object(k.jsxs)(Z.d,{children:[Object(k.jsx)(Z.b,{exact:!0,path:"/",render:function(){return Object(k.jsx)(me,{})}}),Object(k.jsx)(Z.b,{exact:!0,path:"/admin",render:function(){return Object(k.jsx)(fe,{})}}),Object(k.jsx)(Z.b,{exact:!0,path:"/login",render:function(){return Object(k.jsx)(xe,{})}}),Object(k.jsx)(Z.b,{exact:!0,path:"/signup",render:function(){return Object(k.jsx)(Oe,{})}}),Object(k.jsx)(Z.b,{exact:!0,path:"/settings",render:function(){return Object(k.jsx)(Se,{})}})]})})}}]),s}(r.a.Component),Ae=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,105)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),r(e),a(e),i(e)}))};i.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(Ie,{})}),document.getElementById("root")),Ae()}},[[93,1,2]]]);
//# sourceMappingURL=main.7e553b39.chunk.js.map